[Module Metadata]
AUTHOR=Sarah Edwards/mac4n6.com/@iamevltwin
MODULE_NOTES=Sharesheet Feedback

[Database Metadata]
DATABASE=knowledgeC.db
PLATFORM=IOS
VERSIONS=13

[Query Metadata]
QUERY_NAME=knowledge_sharesheet_feedback
ACTIVITY=Sharesheet Feedback
KEY_TIMESTAMP=START

[SQL Query 13]
QUERY=
   SELECT
      DATETIME(ZOBJECT.ZSTARTDATE+978307200,'UNIXEPOCH') AS "START", 
      DATETIME(ZOBJECT.ZENDDATE+978307200,'UNIXEPOCH') AS "END",
      (ZOBJECT.ZENDDATE - ZOBJECT.ZSTARTDATE) AS "USAGE IN SECONDS",
      (ZOBJECT.ZENDDATE - ZOBJECT.ZSTARTDATE)/60.00 AS "USAGE IN MINUTES",
     ZSOURCE.ZBUNDLEID AS "BUNDLE ID",
     ZSOURCE.ZSOURCEID AS "SOURCE ID",
     ZSTRUCTUREDMETADATA.Z_DKSHARESHEETSUGGESTIONMETADATAKEY__TARGETBUNDLEID AS "TARGET BUNDLE ID",
     ZSTRUCTUREDMETADATA.Z_DKSHARESHEETSUGGESTIONMETADATAKEY__SOURCEBUNDLEID AS "SOURCE BUNDLE ID",
     ZSTRUCTUREDMETADATA.Z_DKSHARESHEETSUGGESTIONMETADATAKEY__DERIVEDINTENTIDENTIFIER AS "DERIVED INTENT ID",
     ZSTRUCTUREDMETADATA.Z_DKSHARESHEETSUGGESTIONMETADATAKEY__EXTENSIONCONTEXTUUID AS "EXTENSION CONTEXT UUID",
      CASE ZOBJECT.ZSTARTDAYOFWEEK 
         WHEN "1" THEN "Sunday"
         WHEN "2" THEN "Monday"
         WHEN "3" THEN "Tuesday"
         WHEN "4" THEN "Wednesday"
         WHEN "5" THEN "Thursday"
         WHEN "6" THEN "Friday"
         WHEN "7" THEN "Saturday"
      END "DAY OF WEEK",
      ZOBJECT.ZSECONDSFROMGMT/3600 AS "GMT OFFSET",
      DATETIME(ZOBJECT.ZCREATIONDATE+978307200,'UNIXEPOCH') AS "ENTRY CREATION",
      ZOBJECT.ZUUID AS "UUID", 
      ZSTRUCTUREDMETADATA.ZMETADATAHASH,
      ZOBJECT.Z_PK AS "ZOBJECT TABLE ID"
   FROM ZOBJECT
         LEFT JOIN
         ZSTRUCTUREDMETADATA 
         ON ZOBJECT.ZSTRUCTUREDMETADATA = ZSTRUCTUREDMETADATA.Z_PK 
      LEFT JOIN
         ZSOURCE 
         ON ZOBJECT.ZSOURCE = ZSOURCE.Z_PK 
   WHERE
      ZSTREAMNAME = "/sharesheet/feedback"