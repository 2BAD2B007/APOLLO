[Module Metadata]
AUTHOR=Sarah Edwards/mac4n6.com/@iamevltwin
MODULE_NOTES=Application Usage, shows application in focus on device.

[Database Metadata]
DATABASE=knowledgeC.db
PLATFORM=IOS
VERSIONS=11,12

[Query Metadata]
QUERY_NAME=knowledge_app_inFocus
ACTIVITY=Application In Focus
KEY_TIMESTAMP=START

[SQL Query 11,12]
QUERY=
	SELECT
		ZOBJECT.ZVALUESTRING AS "BUNDLE ID", 
		(ZOBJECT.ZENDDATE-ZOBJECT.ZSTARTDATE) as "USAGE IN SECONDS",
		CASE ZOBJECT.ZSTARTDAYOFWEEK 
		    WHEN "1" THEN "Sunday"
		    WHEN "2" THEN "Monday"
		    WHEN "3" THEN "Tuesday"
		    WHEN "4" THEN "Wednesday"
		    WHEN "5" THEN "Thursday"
		    WHEN "6" THEN "Friday"
		    WHEN "7" THEN "Saturday"
		END "DAY OF WEEK",
		ZOBJECT.ZSECONDSFROMGMT/3600 AS "GMT OFFSET",
		DATETIME(ZOBJECT.ZSTARTDATE+978307200,'UNIXEPOCH') as "START", 
		DATETIME(ZOBJECT.ZENDDATE+978307200,'UNIXEPOCH') as "END",
		DATETIME(ZOBJECT.ZCREATIONDATE+978307200,'UNIXEPOCH') as "ENTRY CREATION",	
		ZOBJECT.Z_PK AS "ZOBJECT TABLE ID" 
	FROM ZOBJECT
	WHERE ZSTREAMNAME IS "/app/inFocus"