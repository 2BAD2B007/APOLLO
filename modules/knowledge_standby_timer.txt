[Module Metadata]
AUTHOR=Sarah Edwards/mac4n6.com/@iamevltwin
MODULE_NOTES=Standby Timer

[Database Metadata]
DATABASE=knowledgeC.db
PLATFORM=MACOS
VERSIONS=10.15

[Query Metadata]
QUERY_NAME=knowledge_standby_timer
ACTIVITY=Standby Timer
KEY_TIMESTAMP=START

[SQL Query 10.15]
QUERY=
   SELECT
      DATETIME(ZOBJECT.ZSTARTDATE+978307200,'UNIXEPOCH') AS "START", 
      DATETIME(ZOBJECT.ZENDDATE+978307200,'UNIXEPOCH') AS "END",
      ZSTRUCTUREDMETADATA.Z_DKDEVICESTANDBYTIMERMETADATAKEY__TIMERTYPE AS "TIMER TYPE",
      ZSTRUCTUREDMETADATA.Z_DKDEVICESTANDBYTIMERMETADATAKEY__DELAY AS "DELAY",
      ZOBJECT.ZVALUESTRING AS "SERVICE", 
      CASE ZOBJECT.ZSTARTDAYOFWEEK 
         WHEN "1" THEN "Sunday"
         WHEN "2" THEN "Monday"
         WHEN "3" THEN "Tuesday"
         WHEN "4" THEN "Wednesday"
         WHEN "5" THEN "Thursday"
         WHEN "6" THEN "Friday"
         WHEN "7" THEN "Saturday"
      END "DAY OF WEEK", 
      ZOBJECT.ZSECONDSFROMGMT/3600 AS "GMT OFFSET",
      DATETIME(ZOBJECT.ZCREATIONDATE+978307200,'UNIXEPOCH') AS "ENTRY CREATION",
      ZOBJECT.ZUUID AS "UUID", 
      ZOBJECT.Z_PK AS "ZOBJECT TABLE ID"
   FROM
      ZOBJECT 
      LEFT JOIN
         ZSTRUCTUREDMETADATA 
         ON ZOBJECT.ZSTRUCTUREDMETADATA = ZSTRUCTUREDMETADATA.Z_PK 
      LEFT JOIN
         ZSOURCE 
         ON ZOBJECT.ZSOURCE = ZSOURCE.Z_PK 
   WHERE
      ZSTREAMNAME IS "/standby/timer"