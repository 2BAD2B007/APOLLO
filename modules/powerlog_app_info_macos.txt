[Module Metadata]
AUTHOR=Sarah Edwards/mac4n6.com/@iamevltwin
MODULE_NOTES=

[Database Metadata]
DATABASE=CurrentPowerlog.PLSQL
PLATFORM=MACOS
VERSIONS=10.15

[Query Metadata]
QUERY_NAME=powerlog_app_info_macos
ACTIVITY=App Info
KEY_TIMESTAMP=ADJUSTED_TIMESTAMP

[SQL Query 10.15]
QUERY=
	SELECT
		DATETIME(TIMESTAMP + SYSTEM, 'UNIXEPOCH') AS ADJUSTED_TIMESTAMP,
		NAME AS 'NAME',
		EXECUTABLE AS 'EXECUTABLE',
		CFDISPLAYNAME AS 'CF DISPLAY NAME',
		LSDISPLAYNAME AS 'LS DISPLAY NAME',
		BUNDLEID AS 'BUNDLE ID',
		NUMERICVERSION AS 'NUMERIC VERSION',
		SHORTVERSIONSTRING AS 'SHORT VERSION STRING',
		VERSION AS 'VERSION',
		PACKAGETYPE AS 'PACKAGE TYPE',
		APPLICATIONTYPE AS 'APPLICATION TYPE',
		BUILDMACHINEOSBUILD AS 'BUILD MACHINE OS BUILD',
		ARCHITECTURE AS 'ARCHITECTURE',
		DATETIME(TIMESTAMP, 'UNIXEPOCH') AS ORIGINAL_TIMESTAMP,
		DATETIME(TIME_OFFSET_TIMESTAMP, 'UNIXEPOCH') AS OFFSET_TIMESTAMP,
		SYSTEM AS TIME_OFFSET,
		TABLE_ID AS "PLAPPLICATIONAGENT_EVENTNONE_APPINFO TABLE ID"
	FROM
	(
	SELECT
		TABLE_ID,
		TIMESTAMP,
		TIME_OFFSET_TIMESTAMP,
		MAX(TIME_OFFSET_ID) AS MAX_ID,
		NAME,
		EXECUTABLE,
		CFDISPLAYNAME,
		LSDISPLAYNAME,
		BUNDLEID,
		NUMERICVERSION,
		SHORTVERSIONSTRING,
		VERSION,
		PACKAGETYPE,
		APPLICATIONTYPE,
		BUILDMACHINEOSBUILD,
		ARCHITECTURE,
		SYSTEM
	FROM
	(
	SELECT
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.TIMESTAMP,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.NAME,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.EXECUTABLE,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.CFDISPLAYNAME,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.LSDISPLAYNAME,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.BUNDLEID,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.NUMERICVERSION,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.SHORTVERSIONSTRING,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.VERSION,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.PACKAGETYPE,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.APPLICATIONTYPE,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.BUILDMACHINEOSBUILD,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.ARCHITECTURE,
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO.ID AS "TABLE_ID",
		PLSTORAGEOPERATOR_EVENTFORWARD_TIMEOFFSET.TIMESTAMP AS TIME_OFFSET_TIMESTAMP,
		PLSTORAGEOPERATOR_EVENTFORWARD_TIMEOFFSET.ID AS TIME_OFFSET_ID,
		PLSTORAGEOPERATOR_EVENTFORWARD_TIMEOFFSET.SYSTEM
	FROM
		PLAPPLICATIONAGENT_EVENTNONE_APPINFO 
	LEFT JOIN
		PLSTORAGEOPERATOR_EVENTFORWARD_TIMEOFFSET 
	)
	GROUP BY
	TABLE_ID 
         )