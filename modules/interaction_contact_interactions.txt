[Module Metadata]
AUTHOR=Sarah Edwards/mac4n6.com/@iamevltwin
MODULE_NOTES=Contact Interaction

[Database Metadata]
DATABASE=interactionC.db
PLATFORM=IOS,MACOS
VERSIONS=9,10,11,12,13,10.13,10.14,10.15

[Query Metadata]
QUERY_NAME=interaction_contact_interactions
ACTIVITY=Contact Interaction
KEY_TIMESTAMP=START DATE

[SQL Query 10,11,12,13,10.13,10.14,10.15]
QUERY=
   SELECT
      DATETIME(ZINTERACTIONS.ZSTARTDATE + 978307200, 'UNIXEPOCH') AS "START DATE",
      DATETIME(ZINTERACTIONS.ZENDDATE + 978307200, 'UNIXEPOCH') AS "END DATE",
      ZINTERACTIONS.ZBUNDLEID AS "BUNDLE ID",
      ZCONTACTS.ZDISPLAYNAME AS "DISPLAY NAME",
      ZCONTACTS.ZIDENTIFIER AS "IDENTIFIER",
      ZCONTACTS.ZPERSONID AS "PERSONID",
      ZINTERACTIONS.ZDIRECTION AS "DIRECTION",
      ZINTERACTIONS.ZISRESPONSE AS "IS RESPONSE",
      ZINTERACTIONS.ZMECHANISM AS "MECHANISM",
      ZINTERACTIONS.ZRECIPIENTCOUNT AS "RECIPIENT COUNT",
      DATETIME(ZINTERACTIONS.ZCREATIONDATE + 978307200, 'UNIXEPOCH') AS "ZINTERACTIONS CREATION DATE",
      DATETIME(ZCONTACTS.ZCREATIONDATE + 978307200, 'UNIXEPOCH') AS "ZCONTACTS CREATION DATE",
      DATETIME(ZCONTACTS.ZFIRSTINCOMINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') AS "FIRST INCOMING RECIPIENT DATE",
      DATETIME(ZCONTACTS.ZFIRSTINCOMINGSENDERDATE + 978307200, 'UNIXEPOCH') AS "FIRST INCOMING SENDER DATE",
      DATETIME(ZCONTACTS.ZFIRSTOUTGOINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') AS "FIRST OUTGOING RECIPIENT DATE",
      DATETIME(ZCONTACTS.ZLASTINCOMINGSENDERDATE + 978307200, 'UNIXEPOCH') AS "LAST INCOMING SENDER DATE",
      CASE
         ZLASTINCOMINGRECIPIENTDATE 
         WHEN
            "0" 
         THEN
            "0" 
         ELSE
            DATETIME(ZCONTACTS.ZLASTINCOMINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') 
      END AS "LAST INCOMING RECIPIENT DATE", 
      DATETIME(ZCONTACTS.ZLASTOUTGOINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') AS "LAST OUTGOING RECIPIENT DATE", 
      ZINTERACTIONS.ZACCOUNT AS "ACCOUNT", 
      ZINTERACTIONS.ZDOMAINIDENTIFIER AS "DOMAIN IDENTIFIER", 
      ZCONTACTS.ZINCOMINGRECIPIENTCOUNT AS "INCOMING RECIPIENT COUNT", 
      ZCONTACTS.ZINCOMINGSENDERCOUNT AS "INCOMING SENDER COUNT", 
      ZCONTACTS.ZOUTGOINGRECIPIENTCOUNT AS "OUTGOING RECIPIENT COUNT", 
      ZCONTACTS.ZCUSTOMIDENTIFIER AS "CUSTOM IDENTIFIER", 
      ZINTERACTIONS.ZCONTENTURL AS "CONTENT URL", 
      ZINTERACTIONS.ZLOCATIONUUID AS "LOCATION UUID", 
      ZINTERACTIONS.Z_PK AS "ZINTERACTIONS TABLE ID" 
   FROM
      ZINTERACTIONS 
      LEFT JOIN
         ZCONTACTS 
         ON ZINTERACTIONS.ZSENDER = ZCONTACTS.Z_PK

[SQL Query 9]
QUERY=
   SELECT
      DATETIME(ZINTERACTIONS.ZSTARTDATE + 978307200, 'UNIXEPOCH') AS "START DATE",
      DATETIME(ZINTERACTIONS.ZENDDATE + 978307200, 'UNIXEPOCH') AS "END DATE",
      DATETIME(ZINTERACTIONS.ZCREATIONDATE + 978307200, 'UNIXEPOCH') AS "ZINTERACTIONS CREATION DATE",
      ZINTERACTIONS.ZBUNDLEID AS "BUNDLE ID",
      ZCONTACTS.ZDISPLAYNAME AS "DISPLAY NAME",
      ZCONTACTS.ZIDENTIFIER AS "IDENTIFIER",
      ZCONTACTS.ZPERSONID AS "PERSONID",
      ZINTERACTIONS.ZDIRECTION AS "DIRECTION",
      ZINTERACTIONS.ZISRESPONSE AS "IS RESPONSE",
      ZINTERACTIONS.ZMECHANISM AS "MECHANISM",
      DATETIME(ZCONTACTS.ZCREATIONDATE + 978307200, 'UNIXEPOCH') AS "ZCONTACTS CREATION DATE",
      DATETIME(ZCONTACTS.ZFIRSTINCOMINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') AS "FIRST INCOMING RECIPIENT DATE",
      DATETIME(ZCONTACTS.ZFIRSTINCOMINGSENDERDATE + 978307200, 'UNIXEPOCH') AS "FIRST INCOMING SENDER DATE",
      DATETIME(ZCONTACTS.ZFIRSTOUTGOINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') AS "FIRST OUTGOING RECIPIENT DATE",
      DATETIME(ZCONTACTS.ZLASTINCOMINGSENDERDATE + 978307200, 'UNIXEPOCH') AS "LAST INCOMING SENDER DATE",
      CASE
         ZLASTINCOMINGRECIPIENTDATE 
         WHEN
            "0" 
         THEN
            "0" 
         ELSE
            DATETIME(ZCONTACTS.ZLASTINCOMINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') 
      END AS "LAST INCOMING RECIPIENT DATE", 
      DATETIME(ZCONTACTS.ZLASTOUTGOINGRECIPIENTDATE + 978307200, 'UNIXEPOCH') AS "LAST OUTGOING RECIPIENT DATE", 
      ZINTERACTIONS.ZACCOUNT AS "ACCOUNT", 
      ZINTERACTIONS.ZDOMAINIDENTIFIER AS "DOMAIN IDENTIFIER", 
      ZCONTACTS.ZINCOMINGRECIPIENTCOUNT AS "INCOMING RECIPIENT COUNT", 
      ZCONTACTS.ZINCOMINGSENDERCOUNT AS "INCOMING SENDER COUNT", 
      ZCONTACTS.ZOUTGOINGRECIPIENTCOUNT AS "OUTGOING RECIPIENT COUNT", 
      ZINTERACTIONS.ZCONTENTURL AS "CONTENT URL", 
      ZINTERACTIONS.ZLOCATIONUUID AS "LOCATION UUID", 
      ZINTERACTIONS.Z_PK AS "ZINTERACTIONS TABLE ID" 
   FROM
      ZINTERACTIONS 
      LEFT JOIN
         ZCONTACTS 
         ON ZINTERACTIONS.ZSENDER = ZCONTACTS.Z_PK