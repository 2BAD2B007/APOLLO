[Module Metadata]
AUTHOR=Sarah Edwards/mac4n6.com/@iamevltwin
MODULE_NOTES=Map Item

[Database Metadata]
DATABASE=Cloud.sqlite,Cloud-V2.sqlite
PLATFORM=IOS
VERSIONS=13

[Query Metadata]
QUERY_NAME=routined_cloud_mapitem
ACTIVITY=Routined Location - Map Item Creation
KEY_TIMESTAMP=MAP ITEM CREATION DATE

[SQL Query 13]
QUERY=
   SELECT
        DATETIME(ZRTMAPITEMMO.ZCREATIONDATE + 978307200, 'UNIXEPOCH') AS "MAP ITEM CREATION DATE",
        DATETIME(ZRTMAPITEMMO.ZEXPIRATIONDATE + 978307200, 'UNIXEPOCH') AS "MAP ITEM EXPIRATION DATE", 
        ZRTMAPITEMMO.ZLATITUDE || ", " || ZRTMAPITEMMO.ZLONGITUDE AS "MAP ITEM COORDINATES",
        ZRTMAPITEMMO.ZNAME AS "MAP ITEM NAME",
        ZRTADDRESSMO.ZCOUNTRY AS "COUNTRY",
        ZRTADDRESSMO.ZCOUNTRYCODE AS "COUNTRY CODE",
        ZRTADDRESSMO.ZPOSTALCODE AS "POSTAL CODE",
        ZRTADDRESSMO.ZLOCALITY AS "LOCALITY",
        ZRTADDRESSMO.ZSUBLOCALITY AS "SUBLOCALITY",
        ZRTADDRESSMO.ZTHOROUGHFARE AS "THROROUGHFARE",
        ZRTADDRESSMO.ZSUBTHOROUGHFARE AS "SUBTHOROUGHFARE",
        ZRTADDRESSMO.ZSUBADMINISTRATIVEAREA AS "SUBADMINISTRATIVE AREA",  
        ZRTADDRESSMO.ZAREASOFINTEREST AS "AREA OF INTEREST",
        ZRTADDRESSMO.ZOCEAN AS "OCEAN",
        ZRTADDRESSMO.ZINLANDWATER AS "INLAND WATER",
        ZRTADDRESSMO.ZISLAND AS "ISLAND",
        ZRTMAPITEMMO.ZLATITUDE AS "LATITUTE",
        ZRTMAPITEMMO.ZLONGITUDE AS "LONGITUDE",
        ZRTMAPITEMMO.ZUNCERTAINTY AS "UNCERTAINTY",
        ZRTMAPITEMMO.ZDISPLAYLANGUAGE AS "MAP ITEM LANGUAGE",
        HEX(ZRTMAPITEMMO.ZGEOMAPITEMHANDLE) AS "MAP ITEM GEOMAPITEM (HEX PROTOBUF)",
        ZRTMAPITEMMO.Z_PK  AS "ZRTMAPITEMMO TABLE ID" 
   FROM ZRTMAPITEMMO
   LEFT JOIN ZRTADDRESSMO ON  ZRTMAPITEMMO.Z_PK == ZRTADDRESSMO.ZMAPITEM

[SQL Query 12]
QUERY=
   SELECT 
        DATETIME(ZRTMAPITEMMO.ZCREATIONDATE + 978307200, 'UNIXEPOCH') AS "MAP ITEM CREATION DATE",
        DATETIME(ZRTMAPITEMMO.ZEXPIRATIONDATE + 978307200, 'UNIXEPOCH') AS "MAP ITEM EXPIRATION DATE",
        ZRTMAPITEMMO.ZLATITUDE || ", " || ZRTMAPITEMMO.ZLONGITUDE AS "MAP ITEM COORDINATES",
        ZRTMAPITEMMO.ZNAME AS "MAP ITEM NAME",
        ZRTADDRESSMO.ZCOUNTRY AS "COUNTRY",
        ZRTADDRESSMO.ZCOUNTRYCODE AS "COUNTRY CODE",
        ZRTADDRESSMO.ZPOSTALCODE AS "POSTAL CODE",
        ZRTADDRESSMO.ZLOCALITY AS "LOCALITY",
        ZRTADDRESSMO.ZSUBLOCALITY AS "SUBLOCALITY",
        ZRTADDRESSMO.ZTHOROUGHFARE AS "THROROUGHFARE",
        ZRTADDRESSMO.ZSUBTHOROUGHFARE AS "SUBTHOROUGHFARE",
        ZRTADDRESSMO.ZSUBADMINISTRATIVEAREA AS "SUBADMINISTRATIVE AREA",  
        ZRTADDRESSMO.ZAREASOFINTEREST AS "AREA OF INTEREST",
        ZRTADDRESSMO.ZOCEAN AS "OCEAN",
        ZRTADDRESSMO.ZINLANDWATER AS "INLAND WATER",
        ZRTADDRESSMO.ZISLAND AS "ISLAND",
        ZRTMAPITEMMO.ZLATITUDE AS "LATITUTE",
        ZRTMAPITEMMO.ZLONGITUDE AS "LONGITUDE",
        ZRTMAPITEMMO.ZUNCERTAINTY AS "UNCERTAINTY",
        HEX(ZRTMAPITEMMO.ZGEOMAPITEMHANDLE) AS "MAP ITEM GEOMAPITEM (HEX PROTOBUF)",
        ZRTMAPITEMMO.Z_PK  AS "ZRTMAPITEMMO TABLE ID" 
   FROM ZRTMAPITEMMO
   LEFT JOIN ZRTADDRESSMO ON  ZRTMAPITEMMO.Z_PK == ZRTADDRESSMO.ZMAPITEM